!function(h,b,S){"use strict";function t(e){if(y=b.documentElement,r=b.body,G(),ne=this,le=(e=e||{}).constants||{},e.easing)for(var t in e.easing)Y[t]=e.easing[t];de=e.edgeStrategy||"set",ae={beforerender:e.beforerender,render:e.render,keyframe:e.keyframe},(ie=!1!==e.forceHeight)&&(Ie=e.scale||1),se=e.mobileDeceleration||f,fe=!1!==e.smoothScrolling,ue=e.smoothScrollingDuration||m,me={targetTop:ne.getScrollTop()},(Me=(e.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||h.opera)})())?((oe=b.getElementById(e.skrollrBody||u))&&te(),R(),Ee(y,[a,s],[i])):Ee(y,[a,l],[i]),ne.refresh(),he(h,"resize orientationchange",function(){var e=y.clientWidth,t=y.clientHeight;t===ze&&e===Ve||(ze=t,Ve=e,qe=!0)});var n=K();return function e(){U(),ve=n(e)}(),ne}function k(e,t){return t.toUpperCase()}var y,r,w={get:function(){return ne},init:function(e){return ne||new t(e)},VERSION:"0.6.30"},x=Object.prototype.hasOwnProperty,T=h.Math,o=h.getComputedStyle,E="touchstart",A="touchmove",F="touchcancel",C="touchend",H="skrollable",D=H+"-before",I=H+"-between",P=H+"-after",a="skrollr",i="no-"+a,l=a+"-desktop",s=a+"-mobile",c="linear",f=.004,u="skrollr-body",m=200,p="center",d="bottom",N="___skrollable_id",O=/^(?:input|textarea|button|select)$/i,n=/^\s+|\s+$/g,V=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,g=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,v=/^(@?[a-z\-]+)\[(\w+)\]$/,z=/-([a-z0-9_])/g,q=/[\-+]?[\d]*\.?[\d]+/g,L=/\{\?\}/g,M=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,$=/[a-z\-]+-gradient/g,B="",_="",G=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(o){var t,n=o(r,null);for(t in n)if(B=t.match(e)||+t==t&&n[t].match(e))break;B?"-"===(B=B[0]).slice(0,1)?B={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[_=B]:_="-"+B.toLowerCase()+"-":B=_=""}},K=function(){var e=h.requestAnimationFrame||h[B.toLowerCase()+"RequestAnimationFrame"],n=Ce();return!Me&&e||(e=function(e){var t=Ce()-n,t=T.max(0,1e3/60-t);return h.setTimeout(function(){n=Ce(),e()},t)}),e},Y={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-T.cos(e*T.PI)/2+.5},sqrt:function(e){return T.sqrt(e)},outCubic:function(e){return T.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-T.abs(3*T.cos(e*t*1.028)/t)}};t.prototype.refresh=function(e){var t,n,r=!1;for(e===S?(r=!0,re=[],Le=0,e=b.getElementsByTagName("*")):e.length===S&&(e=[e]),t=0,n=e.length;t<n;t++){var o=e[t],a=o,i=[],l=fe,s=de,c=!1;if(r&&N in o&&delete o[N],o.attributes){for(var f,u,m,p=0,d=o.attributes.length;p<d;p++){var g,v,h,y=o.attributes[p];if("data-anchor-target"!==y.name)"data-smooth-scrolling"!==y.name?"data-edge-strategy"!==y.name?"data-emit-events"!==y.name?null!==(h=y.name.match(V))&&(g={props:y.value,element:o,eventType:y.name.replace(z,k)},i.push(g),(v=h[1])&&(g.constant=v.substr(1)),v=h[2],/p$/.test(v)?(g.isPercentage=!0,g.offset=(0|v.slice(0,-1))/100):g.offset=0|v,v=h[3],h=h[4]||v,v&&"start"!==v&&"end"!==v?(g.mode="relative",g.anchors=[v,h]):(g.mode="absolute","end"===v?g.isEnd=!0:g.isPercentage||(g.offset=g.offset*Ie))):c=!0:s=y.value:l="off"!==y.value;else if(a=b.querySelector(y.value),null===a)throw'Unable to find anchor target "'+y.value+'"'}i.length&&(m=!r&&N in o?(u=o[N],f=re[u].styleAttr,re[u].classAttr):(u=o[N]=Le++,f=o.style.cssText,xe(o)),re[u]={element:o,styleAttr:f,classAttr:m,anchorTarget:a,keyFrames:i,smoothScrolling:l,edgeStrategy:s,emitEvents:c,lastFrameIndex:-1},Ee(o,[H],[]))}}for(Se(),t=0,n=e.length;t<n;t++){var T=re[e[t][N]];T!==S&&(X(T),W(T))}return ne},t.prototype.relativeToAbsolute=function(e,t,n){var r=y.clientHeight,o=e.getBoundingClientRect(),e=o.top,o=o.bottom-o.top;return t===d?e-=r:t===p&&(e-=r/2),n===d?e+=o:n===p&&(e+=o/2),(e+=ne.getScrollTop())+.5|0},t.prototype.animateTo=function(e,t){t=t||{};var n=Ce(),r=ne.getScrollTop(),o=t.duration===S?1e3:t.duration;return(ce={startTop:r,topDiff:e-r,targetTop:e,duration:o,startTime:n,endTime:n+o,easing:Y[t.easing||c],done:t.done}).topDiff||(ce.done&&ce.done.call(ne,!1),ce=S),ne},t.prototype.stopAnimateTo=function(){ce&&ce.done&&ce.done.call(ne,!0),ce=S},t.prototype.isAnimatingTo=function(){return!!ce},t.prototype.isMobile=function(){return Me},t.prototype.setScrollTop=function(e,t){return pe=!0===t,Me?$e=T.min(T.max(e,0),De):h.scrollTo(0,e),ne},t.prototype.getScrollTop=function(){return Me?$e:h.pageYOffset||y.scrollTop||r.scrollTop||0},t.prototype.getMaxScrollTop=function(){return De},t.prototype.on=function(e,t){return ae[e]=t,ne},t.prototype.off=function(e){return delete ae[e],ne},t.prototype.destroy=function(){var e;(e=h.cancelAnimationFrame||h[B.toLowerCase()+"CancelAnimationFrame"],!Me&&e||(e=function(e){return h.clearTimeout(e)}),e)(ve),Te(),Ee(y,[i],[a,l,s]);for(var t=0,n=re.length;t<n;t++)ee(re[t].element);y.style.overflow=r.style.overflow="",y.style.height=r.style.height="",oe&&w.setStyle(oe,"transform","none"),Pe="down",Me=qe=!(Ne=-(Ie=1)),$e=Le=ze=Ve=De=0,ge=de=pe=me=ue=fe=ce=se=le=ie=ae=oe=ne=S};var R=function(){var i,l,s,c,f,u,m,p,d,g,v;he(y,[E,A,F,C].join(" "),function(e){var t=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(f=t.clientY,u=t.clientX,d=e.timeStamp,O.test(c.tagName)||e.preventDefault(),e.type){case E:i&&i.blur(),ne.stopAnimateTo(),i=c,l=m=f,s=u,0;break;case A:O.test(c.tagName)&&b.activeElement!==c&&e.preventDefault(),p=f-m,v=d-g,ne.setScrollTop($e-p,!0),m=f,g=d;break;default:case F:case C:var n=l-f,r=s-u,o=r*r+n*n;if(o<49)return void(O.test(i.tagName)||(i.focus(),(a=b.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,t.screenX,t.screenY,t.clientX,t.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i.dispatchEvent(a)));i=S;var r=p/v,r=T.max(T.min(r,3),-3),n=T.abs(r/se),o=r*n+.5*se*n*n,a=ne.getScrollTop()-o,r=0;De<a?(r=(De-a)/o,a=De):a<0&&(r=-a/o,a=0),n*=1-r,ne.animateTo(a+.5|0,{easing:"outCubic",duration:n})}}),h.scrollTo(0,0),y.style.overflow=r.style.overflow="hidden"},U=function(){qe&&(qe=!1,Se());var e,t,n=ne.getScrollTop(),r=Ce();ce?(r>=ce.endTime?(n=ce.targetTop,e=ce.done,ce=S):(t=ce.easing((r-ce.startTime)/ce.duration),n=ce.startTop+t*ce.topDiff|0),ne.setScrollTop(n,!0)):pe||(me.targetTop-n&&(me={startTop:Ne,topDiff:n-Ne,targetTop:n,startTime:Oe,endTime:Oe+ue}),r<=me.endTime&&(t=Y.sqrt((r-me.startTime)/ue),n=me.startTop+t*me.topDiff|0)),!pe&&Ne===n||(t={curTop:n,lastTop:Ne,maxTop:De,direction:Pe=Ne<n?"down":n<Ne?"up":Pe},(pe=!1)!==(ae.beforerender&&ae.beforerender.call(ne,t))&&(function(e,t){for(var n=0,r=re.length;n<r;n++){var o,a=re[n],i=a.element,l=a.smoothScrolling?e:t,s=a.keyFrames,c=s.length,f=s[0],u=s[s.length-1],m=l<f.frame,p=l>u.frame,d=m?f:u,g=a.emitEvents,v=a.lastFrameIndex;if(m||p){if(m&&-1===a.edge||p&&1===a.edge)continue;switch(m?(Ee(i,[D],[P,I]),g&&-1<v&&(be(i,f.eventType,Pe),a.lastFrameIndex=-1)):(Ee(i,[P],[D,I]),g&&v<c&&(be(i,u.eventType,Pe),a.lastFrameIndex=c)),a.edge=m?-1:1,a.edgeStrategy){case"reset":ee(i);continue;case"ease":l=d.frame;break;default:var h=d.props;for(o in h)x.call(h,o)&&(b=Q(h[o].value),0===o.indexOf("@")?i.setAttribute(o.substr(1),b):w.setStyle(i,o,b));continue}}else 0!==a.edge&&(Ee(i,[H,I],[D,P]),a.edge=0);for(var y=0;y<c-1;y++)if(l>=s[y].frame&&l<=s[y+1].frame){var T,b,S=s[y],k=s[y+1];for(o in S.props)x.call(S.props,o)&&(T=(l-S.frame)/(k.frame-S.frame),T=S.props[o].easing(T),b=J(S.props[o].value,k.props[o].value,T),b=Q(b),0===o.indexOf("@")?i.setAttribute(o.substr(1),b):w.setStyle(i,o,b));g&&v!==y&&(be(i,("down"===Pe?S:k).eventType,Pe),a.lastFrameIndex=y);break}}}(n,ne.getScrollTop()),Me&&oe&&w.setStyle(oe,"transform","translate(0, "+-$e+"px) "+ge),Ne=n,ae.render&&ae.render.call(ne,t)),e&&e.call(ne,!1)),Oe=r},X=function(e){for(var t=0,n=e.keyFrames.length;t<n;t++){for(var r,o,a,i=e.keyFrames[t],l={};null!==(a=g.exec(i.props));)o=a[1],r=a[2],a=null!==(a=o.match(v))?(o=a[1],a[2]):c,r=r.indexOf("!")?j(r):[r.slice(1)],l[o]={value:r,easing:Y[a]};i.props=l}},j=function(e){var t=[];return M.lastIndex=0,e=e.replace(M,function(e){return e.replace(q,function(e){return e/255*100+"%"})}),_&&($.lastIndex=0,e=e.replace($,function(e){return _+e})),e=e.replace(q,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},W=function(e){for(var t={},n=0,r=e.keyFrames.length;n<r;n++)Z(e.keyFrames[n],t);for(t={},n=e.keyFrames.length-1;0<=n;n--)Z(e.keyFrames[n],t)},Z=function(e,t){for(var n in t)x.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},J=function(e,t,n){var r=e.length;if(r!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';for(var o=[e[0]],a=1;a<r;a++)o[a]=e[a]+(t[a]-e[a])*n;return o},Q=function(e){var t=1;return L.lastIndex=0,e[0].replace(L,function(){return e[t++]})},ee=function(e,t){for(var n,r,o=0,a=(e=[].concat(e)).length;o<a;o++)r=e[o],(n=re[r[N]])&&(t?(r.style.cssText=n.dirtyStyleAttr,Ee(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=xe(r),r.style.cssText=n.styleAttr,Ee(r,n.classAttr)))},te=function(){ge="translateZ(0)",w.setStyle(oe,"transform",ge);var e=o(oe),t=e.getPropertyValue("transform"),e=e.getPropertyValue(_+"transform");t&&"none"!==t||e&&"none"!==e||(ge="")};w.setStyle=function(e,t,n){var r=e.style;if("zIndex"===(t=t.replace(z,k).replace("-","")))isNaN(n)?r[t]=n:r[t]=""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{B&&(r[B+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(e){}};var ne,re,oe,ae,ie,le,se,ce,fe,ue,me,pe,de,ge,ve,he=w.addEvent=function(e,t,n){for(var r,o=function(e){return(e=e||h.event).target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1,e.defaultPrevented=!0}),n.call(this,e)},a=0,i=(t=t.split(" ")).length;a<i;a++)r=t[a],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent("on"+r,o),Be.push({element:e,name:r,listener:n})},ye=w.removeEvent=function(e,t,n){for(var r=0,o=(t=t.split(" ")).length;r<o;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},Te=function(){for(var e,t=0,n=Be.length;t<n;t++)e=Be[t],ye(e.element,e.name,e.listener);Be=[]},be=function(e,t,n){ae.keyframe&&ae.keyframe.call(ne,e,t,n)},Se=function(){var e=ne.getScrollTop();De=0,ie&&!Me&&(r.style.height=""),function(){for(var e,t,n,r,o,a,i,l,s,c=y.clientHeight,f=ke(),u=0,m=re.length;u<m;u++)for(t=(e=re[u]).element,n=e.anchorTarget,o=0,a=(r=e.keyFrames).length;o<a;o++)l=(i=r[o]).offset,s=f[i.constant]||0,i.frame=l,i.isPercentage&&(l*=c,i.frame=l),"relative"===i.mode&&(ee(t),i.frame=ne.relativeToAbsolute(n,i.anchors[0],i.anchors[1])-l,ee(t,!0)),i.frame+=s,ie&&!i.isEnd&&i.frame>De&&(De=i.frame);for(De=T.max(De,we()),u=0,m=re.length;u<m;u++){for(o=0,a=(r=(e=re[u]).keyFrames).length;o<a;o++)s=f[(i=r[o]).constant]||0,i.isEnd&&(i.frame=De-i.offset+s);e.keyFrames.sort(He)}}(),ie&&!Me&&(r.style.height=De+y.clientHeight+"px"),Me?ne.setScrollTop(T.min(ne.getScrollTop(),De)):ne.setScrollTop(e,!0),pe=!0},ke=function(){var e,t,n=y.clientHeight,r={};for(e in le)t=le[e],"function"==typeof t?t=t.call(ne):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},we=function(){var e=0;return oe&&(e=T.max(oe.offsetHeight,oe.scrollHeight)),T.max(e,r.scrollHeight,r.offsetHeight,y.scrollHeight,y.offsetHeight,y.clientHeight)-y.clientHeight},xe=function(e){var t="className";return h.SVGElement&&e instanceof h.SVGElement&&(e=e[t],t="baseVal"),e[t]},Ee=function(e,t,n){var r="className";if(h.SVGElement&&e instanceof h.SVGElement&&(e=e[r],r="baseVal"),n!==S){for(var o=e[r],a=0,i=n.length;a<i;a++)o=Fe(o).replace(Fe(n[a])," ");o=Ae(o);for(var l=0,s=t.length;l<s;l++)-1===Fe(o).indexOf(Fe(t[l]))&&(o+=" "+t[l]);e[r]=Ae(o)}else e[r]=t},Ae=function(e){return e.replace(n,"")},Fe=function(e){return" "+e+" "},Ce=Date.now||function(){return+new Date},He=function(e,t){return e.frame-t.frame},De=0,Ie=1,Pe="down",Ne=-1,Oe=Ce(),Ve=0,ze=0,qe=!1,Le=0,Me=!1,$e=0,Be=[];"function"==typeof define&&define.amd?define([],function(){return w}):"undefined"!=typeof module&&module.exports?module.exports=w:h.skrollr=w}(window,document);